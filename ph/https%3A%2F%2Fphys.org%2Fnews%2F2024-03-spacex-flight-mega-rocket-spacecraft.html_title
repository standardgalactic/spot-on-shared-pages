SpaceX comes close to completing test flight of mega rocket but loses spacecraft near end