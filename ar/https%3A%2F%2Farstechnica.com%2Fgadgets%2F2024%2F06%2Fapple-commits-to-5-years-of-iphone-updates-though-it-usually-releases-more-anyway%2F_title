Apple will update iPhones for at least 5 years in rare public commitment