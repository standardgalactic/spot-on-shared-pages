Rocky planets can form in extreme environments