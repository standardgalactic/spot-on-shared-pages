Facing Angry Users, Sonos Promises to Fix Flaws and Restore Removed Features